---

---

# Лекция 3 СХД
## Для чего нужен ЦОД?

* Защита размещённого оборудования от воздействия окружающей среды
* Обеспечение оборудования качественным и бесперебойным электропитанием
* Отвод выделяемого тепла, вентиляция кондиционированным воздухом
* Управление физическим доступом к оборудованию, его охрана.
---
## Услуги дата-центров
* Виртуальный хостинг 
* Виртуальный сервер 
* Выделенный сервер 
* Colocation 
* Телекоммуникации 
* Dedicated area
---
## Современный ЦОД как ИТ-экосистема

![attachment](/images/lection3/Pasted%20image%2020241218000041.png)

---
## Центр обработки данных (ЦОД)
***
Совокупность оборудования, аппаратуры и сооружений, которая содержит в себе ресурсы хранения, обработки, и передачи данных по сети, а также другие IT-ресурсы для централизованного предоставления мощностей по обработке данных
***
* Ключевые элементы ЦОД 
	* Приложение 
	* Система управления базами данных (СУБД) 
	* Хост или Сервер 
	* Сеть 
	* Система хранения данных
* Эти элементы работают вместе для соответствия требованиям по обработке данных
---
## Ключевые характеристики ЦОД

![attachment](/images/lection3/Pasted%20image%2020241218000437.png)

---
## Ключевые требования к ЦОД
* Доступность – учитывается время и удобство доступа для клиента
* Безопасность – как от несанкционированного доступа, так и от случайного доступа к ресурсам, не предназначенным данному клиенту 
* Масштабируемость – операции ЦОД должны включать возможность находить дополнительные ресурсы в случае необходимости 
* Производительность и объем – должна быть оптимальной для высокоскоростной обработки запросов. 
* Целостность данных – наличие средств, гарантирующих правильное хранение и передачу данных. 
УПРАВЛЯЕМОСТЬ может достигаться путем автоматизации и снижения роли человека при выполнении стандартных заданий
---
## Инфраструктура управления хранением в ЦОД
* Ключевые активности по управлению ЦОД 
	* Мониторинг 
		* Непрерывный процесс сбора информации о различных элементах и сервисах, работающих в ЦОД 
	* Формирование отчетов (Reporting) 
		* Сведения о производительности ресурсов, емкости и использовании 
	* Предоставление (Provisioning) 
		* Конфигурация и выделение ресурсов с целью соответствия запросам по емкости, доступности, производительности и другим требованиям
* Виртуализация и облачные вычисления в корне изменили подход к управлению и предоставлению ресурсов ЦОД
---
## Обзор активностей по управлению в ЦОД
* Ключевые активности по управлению в ЦОД: 
	* Мониторинг и формирование предупреждений (Monitoring and Alerting) 
	* Формирование отчетов (Reporting ) 
	* Управление доступностью (Availability Management)
	* Управление доступным пространством (Capacity Management)
	* Управление производительностью (Performance Management) 
	* Управление безопасностью (Security Management)
---
## Мониторинг
 * Вычислительные системы, СХД и сети являются ключевыми компонентами для мониторинга

| Ключевые параметры для мониторинга | Описание                                                                                                      |
| ---------------------------------- | ------------------------------------------------------------------------------------------------------------- |
| Доступность (Accessibility)        | Доступность компонента для выполнения необходимой операции                                                    |
| Доступное пространство (Capacity)  | Количество доступных ресурсов Например: свободное пространство, доступное на файловой системе или RAID группе |
| Производительн ость (Performance)  | Насколько эффективно работают различные компоненты                                                            |
| Безопасность (Security)            | Механизм для отслеживания и предотвращения неавторизованного доступа                                          |

 * мониторинг параметров питающей электрической сети и состояния вводных выключателей; 
 * контроль состояния силовых трансформаторов; 
 * мониторинг состояния и параметров работы источников бесперебойного питания; 
 * контроль потребления тока отходящих линий электроснабжения; 
 * мониторинг состояния и параметров работы холодильных машин, кондиционеров и вентиляционных установок; 
 * мониторинг климатических параметров воздуха и протечек жидкости в ЦОД; 
 * контроль состояния систем пожарной сигнализации и пожаротушения.
 ---
## Предупреждения о происшествиях (Alerting of Events)
* Формирование предупреждений (Alerting) является интегральной частью мониторинга 
* Средства для мониторинга позволяют администраторам назначать различные уровни важности различным предупреждениям

| Уровень предупреждения на основании важности | Описание                                                                                                            |
| -------------------------------------------- | ------------------------------------------------------------------------------------------------------------------- |
| Информационное предупреждение                | Предоставляет полезную информацию и может не требовать вмешательства администратора Например: создание зоны или LUN |
| Предостерегающе е предупреждение             | Требует внимание администратора Например: файловая система заполнилась                                              |
| Фатальное предупреждение                     | Требует незамедлительного внимания администратора Например: отключение электропитания/поломка диска/сбой памяти     |

---
## Формирование отчетов (Reporting)

* Формирование отчетов об использовании ресурсов в классическом ЦОД подразумевает отслеживание и сбор информации от различных компонент/

| Тип отчета                                  | Описание                                                                                                                                           |
| ------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------- |
| Планирование доступного пространства        | Предоставляет текущую и историческую информацию об использовании СХД, файловой системы, таблиц баз данных, портов и т.д.                           |
| Формировани е счетов к оплате (Chargeback ) | Предоставляет информацию о выделении или использовании компонент инфраструктуры классического ЦОД различным подразделениям и группам пользователей |
| Производитель ность (Performance )          | Предоставляет данные о производительности различных компонент инфраструктуры в классическом ЦОД                                                    |

---

## Управление доступностью (Availability Management)

* Устанавливает политики для всех конфигураций с целью достижения высокой доступности на основании требований к уровню обслуживания 
* Обеспечивает высокую доступность посредством: 
	* Исключения единых точек сбоя посредством конфигурации: 
		* Двух или более HBAs/NICs 
		* ПО для управления путями ввода-вывода (Multipathing software) 
		* RAID защиты 
		* Излишних фабрик (Redundant Fabrics) 
		* Выполнение бэкапа и репликации
---
## Управление производительностью (Performance Management)
* Конфигурация/разработка оптимальной операционной эффективности *
* Анализ производительности 
	* Идентификация «узких мест» 
	* Настройка расширений производительности 
* Ключевые активности
	* Вычислительная система: управление томами, планирование структур баз данных
	* Массив хранения: Выбор типа RAID, конфигурация логических модулей (LUNs) и выбор front-end портов 
	* SAN: Проектирование, обеспечивающее достаточное число ISL при необходимой пропускной способности
* Предотвращает неавторизованные действия или доступ 
* Ключевые активности: 
	* Вычислительные устройства  
		* Создание пользовательских учетных записей и привилегий 
		* Массив хранения 
			* Маскировка логических модулей (LUN masking) предотвращает повреждение данных (data corruption) на СХД, ограничивая доступ вычислительных устройств к заданному набору логических устройств
		* SAN 
			* Конфигурация зонирования для ограничения действий неавторизованных HBAs
---
## Классический ЦОД (CDC)


| Ключевые элементы ЦОД                   |
| --------------------------------------- |
| Приложение                              |
| Система управления базами данных (СУБД) |
| Хост или Сервер                         |
| Сеть                                    |
| Система хранения данных                 |
![attachment](/images/lection3/Pasted%20image%2020241218002836.png)

---

## Инженерные системы ЦОД

Основа любого дата-центра — это инженерные системы, которые представляют собой сложное профессиональное оборудование, которое недоступно для покупки в локальную серверную. То, как будет работать ЦОД, зависит от правильной реализации инженерных систем. Всего можно выделить 5 главных инженерных систем
* Электроснабжение
* Кондиционирование
* Безопасность
* Сетевая инфраструктура 
* Администрирование
---
## Основные схемы резервирования систем ЦОД

* Кроме правильной организации работы дата-центра необходимо организовать резервирование всех систем для повышения надежности. Все схемы резервирования обозначают символом N, происходящим от слова «need» (необходимость). 
* N 
* N+1 
* 2N 
* 2N+1 
* 2(N+1) 
* 3/2N
---
# Интеллектуальные системы хранения данных (ISS -Intelligent Storage Sistem)

**Интеллектуальная система хранения данных** – это многофункциональный RAID массив, предоставляющий оптимизированные мощности по обработке запросов на чтение/запись.

* Обеспечивает кэш-пространство и несколько путей для чтения/записи для улучшения производительности 
* Обладает операционным окружением, которое обеспечивает 
	* Интеллектуальное управление кэшем 
	* Управление ресурсами массива 
	* Соединение с различными хостами 
* Поддерживает флэш-диски, виртуальное предоставление пространства (virtual provisioning) и автоматизированное многоуровневое хранение данных (automated storage tiering)
---
# Ключевые компоненты ISS
![attachment](/images/lection3/Pasted%20image%2020241218003144.png)

## Front End
![attachment](/images/lection3/Pasted%20image%2020241218003215.png)

## Кэш
![attachment](/images/lection3/Pasted%20image%2020241218003233.png)

# Back End
![attachment](/images/lection3/Pasted%20image%2020241218003557.png)

---
## Выделение пространства для хранения данных хосту (Storage Provisioning)

***
Процесс выделения хосту ресурсов для хранения данных на основании требований запущенных на хосте приложений по емкости, доступности и производительности
***

* Может быть реализован в двух вариантах: 
	* Традиционное 
	* Виртуальное

---
## Защита данных в кэше

* Защита данных в кэше от сбоев электросети или сбоев в работе самого кэша 
	* Зеркалирование кэша 
	* Обеспечивает защиту данных от сбоев в работе самого кэша 
	* Каждая операция записи в кэш осуществляется в две различные локации на двух различных единицах памяти 
* Сброс кэша (Cache vaulting)
	* Обеспечивает защиту данных от сбоев электропитания 
	* В случае сбоя электропитания данные, не записанные на диск, сгружаются на специально выделенный набор дисков, называемый дисками для сброса (vault drives)

## Традиционное предоставление пространства для хранения данных

![attachment](/images/lection3/Pasted%20image%2020241218003838.png)

### Расширение LUN (MetaLUN)
***
MetaLUN – это метод расширения логического модуля (LUN), который требует дополнительного пространства или производительности
***
* Создается посредством комбинации двух или более LUN 
* MetaLUN-ы могут быть конкатенированными (concatenated) или распределенными (striped)
![attachment](/images/lection3/Pasted%20image%2020241218004046.png)

* Конкатенированный metaLUN 
	* Предоставляет только дополнительное пространство, но не дает прироста производительности 
	* Расширение происходит быстро, поскольку данные не перераспределяются

* Распределенный metaLUN 
	* Обеспечивает увеличение пространства и производительности 
	* Расширение происходит медленно ввиду перераспределения данных
![attachment](/images/lection3/Pasted%20image%2020241218004227.png)

## Типы ISS: Системы хранения данных корпоративного (high-end) уровня
* Active-active системы, предназначенные для использования большими корпоративными приложениями 
	* Выполняют I/O на LUN-ы через все имеющиеся пути
* Подобные массивы предоставляют следующие функции: 
	* Большие пространство для хранения и кэш 
	* Архитектура с защитой от сбоев 
	* Подключение к mainframe и другим системам 
	* Многочисленные front-end порты и протоколы интерфейсов 
	* Возможность обрабатывать большое число параллельных I/O операций 
	* Поддержка локальной и удаленной репликаций
	
![attachment](/images/lection3/Pasted%20image%2020241218004431.png)
---
# Типы ISS: Системы хранения данных для среднего бизнеса
* Active-passive системы, предназначенные для работы с приложениями средней или малой нагрузки 
	* Выполняют I/O операции к LUN-ам только через активные пути

* Обычно имеют два контроллера, каждый из которых обладает кэшем, RAID контроллером и интерфейсом дисковых устройств 
* Меньшее число front-end портов, емкости, и кэш пространства в сравнении с корпоративными системами 
* Поддержка локальной и удаленной репликации

## Итоги

Основные понятия, раскрытые в данном модуле: 
* Ключевые характеристики ЦОД 
* Обзор активностей по управлению ЦОД 
* Интеллектуальные системы хранения (ISS)

